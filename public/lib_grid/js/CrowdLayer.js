function CrowdLayer(map) 
{
	this.map=map;
	this.data=[
	[40.985089,29.059787],[41.00788843,29.09319169],[41.03984225,28.89555523],[40.9910027,28.8703501],[41.09384156,29.09243616],[41.0477764,29.02658334],[41.01058056,28.96793333],[40.96391678,29.22836113],[41.07753955,29.04416084],[41.04975496,29.06344794],[41.2464,29.0378],[41.07601906,29.01753187],[40.98038223,29.02917069],[40.96775713,29.2262667],[40.987678,29.071494],[41.00690198,28.59902882],[41.0883952,28.88880639],[40.97105183,29.0388981],[41.023631,29.232429],[41.03325773,28.97680847],[41.0477764,29.02658334],[40.95853995,28.82323802],[40.910842,29.168566],[41.00665247,28.97646889],[41.04867426,28.99266292],[41.17917343,28.99599979],[41.1575,28.86833333],[41.0186,28.9647],[41.01756081,28.96442096],[42.69051117,27.70889282],[41.0186,28.9647],[41.11602978,29.09633871],[40.92573265,29.1682594],[41.042406,29.00788484],[41.03984225,28.89555523],[41.01122485,28.62598618],[41.1667,29.05],[41.1575,28.86833333],[40.98333333,29.12777778],[40.97901941,29.10455248],[41.08037176,29.03392003],[40.899472,29.2540284],[40.96344134,29.06491098],[41.00526734,28.98666013],[41.01169841,28.65639116],[40.988511,28.676752],[41.0529571,29.05181134],[41.00111531,28.8803166],[41.11443973,29.05651325],[40.9814598,29.0613722],[41.074587,28.93534883],[41.05039139,29.05313243],[40.9902992,29.0247192],[41.01486424,28.59757765],[41.05790189,29.03613299],[41.06323453,28.80694109],[41.05243482,28.912928],[41.00980183,28.62566142],[42.69301002,23.32033671],[40.93983676,29.1424857],[41.03984225,28.89555523],[40.88898718,29.18711467],[41.0129665,28.64434835],[41.08429811,28.74957319],[41.07618575,29.06787678],[41.08429811,28.74957319],[41.08429811,28.74957319],[41.06288349,28.98197314],[41.01742713,29.1878238],[41.07866017,29.04522842],[41.10720351,28.85385449],[40.98958823,29.02316776],[40.96391678,29.22836113],[41.10654,28.73652],[41.1680177,29.05697027],[41.04833443,29.02572519],[40.95665113,29.10124658],[41.1575,28.86833333],[41.02553045,29.01277849],[41.05393366,28.94704216],[40.82466835,29.30760981],[40.87761077,29.23364763],[40.98040909,28.8164848],[40.876589,29.234979],[41.0186,28.9647],[41.00272332,28.85608189],[41.03153962,28.81725305],[40.97267612,28.72259344],[40.96344134,29.06491098],[41.01323,28.932235],[41.1575,28.86833333],[41.02574865,28.98102567],[41.0186,28.9647],[41.05356346,28.98736238],[40.95890869,29.07148175],[41.01199769,29.13324891],[41.01169171,29.05303584],[41.07120279,28.92206999],[41.07254,28.903913],[40.98226021,29.13348605],[41.05024978,29.05252088],[41.00526734,28.98666013],[40.97829986,28.88104472],[41.0219146,29.11414],[41.05518244,28.7648554],[41.01753962,28.96436366],[42.66043162,27.71525569],[41.00665247,28.97646889],[41.00975469,29.20364491],[41.09125472,29.06145573],[41.00524099,28.65694941],[40.95243489,29.10103641],[40.97740185,28.85385449],[41.02156775,29.10654622],[40.92830923,29.12213732],[40.93781607,29.32533243],[41.00970582,28.63231319],[41.03965686,28.90234644],[41.0186,28.9647],[40.94068019,29.14308608],[40.97989687,28.8180782],[41.05227273,28.89341074],[41.00665247,28.97646889],[41.08044,29.03355],[40.90805823,29.31575811],[41.00911768,29.19076448],[40.97884081,28.81858639],[41.04370475,29.00578751],[41.03016,29.033669],[40.95219559,29.10115242],[41.07874748,28.96197009],[40.981939,28.746015],[41.01719439,28.94987583],[41.01011894,28.97193432],[41.1342254,29.09240776],[41.02096657,29.00401354],[40.98336868,28.87350167],[41.016927,29.010388],[40.92019902,29.30779416],[41.06805556,29.04305556],[41.02553045,29.01277849],[41.02264801,29.21648878],[41.05215366,29.06655282],[41.04,28.99],[41.03241,28.937914],[41.077717,29.013569],[41.0186,28.9647],[41.02029472,28.97337198],[41.0186,28.9647],[41.02294996,29.01539861],[41.04905392,29.05436544],[41.00750954,28.53353425],[41.07942497,29.02647536],[40.91292125,29.13506337],[40.87953074,29.26102284],[41.02164651,29.00654554],[40.99914053,28.92287184],[41.01743697,28.84161323],[41.1575,28.86833333],[40.99089352,29.02558311],[41.07592,29.01725],[40.93983905,29.11913282],[41.0186,28.9647],[41.00300191,29.06803586],[40.98879834,29.02434987],[41.05007414,29.05236535],[41.01656329,29.16489243],[40.96374316,29.07480244],[40.936428,29.125511],[41.03040991,28.94775576],[41.06743,29.0437],[41.01699944,28.59007624],[41.0186,28.9647],[41.10650146,29.08380703],[41.20282656,29.11215484],[40.99089352,29.02558311],[41.00890234,28.83408319],[41.0186,28.9647],[40.97989687,28.8180782],[41.0186,28.9647]];
	
	this.dataFinal=new Array();
	var j;
	for(var i=0; i<this.data.length; i++)
	{
		this.dataFinal.push({location: new google.maps.LatLng(this.data[i][0], this.data[i][1]), weight:1});
		for(j=0; j<20; j++)
			this.dataFinal.push({location: new google.maps.LatLng(
				this.data[i][0]+Math.random()*0.010-0.0050, 
				this.data[i][1]+Math.random()*0.010-0.0050
				), weight:Math.random()*5});
				
		for(j=0; j<10; j++)
			this.dataFinal.push({location: new google.maps.LatLng(
				this.data[i][0]+Math.random()*0.050-0.025, 
				this.data[i][1]+Math.random()*0.050-0.025
				), weight:Math.random()*5});
	}
	this.gradient = [
          'rgba(0, 0, 0, 0)',
          'rgba(0, 0, 0, 0.1)',
          'rgba(0, 0, 0, 0.2)',
          'rgba(0, 0, 0, 0.3)',
          'rgba(0, 0, 0, 0.4)',
          'rgba(0, 0, 0, 0.5)',
          'rgba(0, 0, 0, 0.6)',
          'rgba(0, 0, 0, 0.7)',
          'rgba(0, 0, 0, 0.8)',
          'rgba(0, 0, 0, 0.9)',
          'rgba(0, 0, 0, 1)',
        ];
	this.heatmap;
}
CrowdLayer.prototype.init=function(data)
{
//	this.dataFinal=new Array();
//	for(var i=0; i<data.length; i++)
//		this.dataFinal.push({location: new google.maps.LatLng(data[i].lat, data[i].lng), weight:5});
	this.heatmap= new google.maps.visualization.HeatmapLayer({
		data: this.dataFinal,
		radius:1,
		gradient:this.gradient,
		maxIntensity:1,
		opacity:1
	});
	
}
CrowdLayer.prototype.show=function()
{
	this.heatmap.setMap(this.map);
}
CrowdLayer.prototype.hide=function()
{
	this.heatmap.setMap(null);
}